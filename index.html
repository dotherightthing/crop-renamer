<!DOCTYPE html>
<html id="root">
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; script-src 'self' 'unsafe-inline'" />
    <link rel="stylesheet" href="./node_modules/cropperjs/dist/cropper.css">
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <div class="grid-page">
      <div class="editor">
        <div class="control-bar">
          <fieldset class="control-fieldset">
            <legend hidden>Controls</legend>
            <div class="controls">
              <button type="button" class="control-action" id="folder-in">
                <span class="label">Source folder</span>
                <span class="control-hint"></span>
              </button>
              <button type="button" class="control-action" id="folder-website">
                <span class="label">Website folder</span>
                <span class="control-hint"></span>
              </button>
              <button type="button" class="control-action" id="folder-webpage">
                <span class="label">Webpage folder</span>
                <span class="control-hint"></span>
              </button>
              <button type="button" class="control-action" id="folder-out">
                <span class="label">Web image folder</span>
                <span class="control-hint"></span>
              </button>
              <div class="control-param" data-disabled>
                <input type="number" min="0" max="100" value="" id="focalpoint-x" disabled>
                <label for="focalpoint-x" class="control-label">% X</label>
              </div> 
              <div class="control-param" data-disabled>
                <input type="number" min="0" max="100" value="" id="focalpoint-y" disabled>
                <label for="focalpoint-y" class="control-label">% Y</label>
              </div> 
              <div class="control-param" data-disabled>
                <label for="focalpoint-autosave-off focalpoint-autosave-on" class="radios-label">Auto-Save</label>
                <label class="radio-label">
                  <input type="radio" name="focalpoint-autosave" value="off" id="focalpoint-autosave-off" checked disabled>
                  Off
                </label>
                <label class="radio-label">
                  <input type="radio" name="focalpoint-autosave" value="on" id="focalpoint-autosave-on" disabled>
                  On
                </label>
              </div> 
              <button type="button" class="control-action" id="reset-focalpoint" disabled>
                <span class="label">Reset</span>
              </button>
              <button type="button" class="control-action" id="delete-focalpoint" disabled>
                <span class="label">Delete</span>
              </button>
              <button type="button" class="control-action" id="crop-image" disabled>
                <span class="label">Resize &amp; Crop</span>
              </button>
            </div>
          </fieldset>
          <p class="control-status-msg" id="control-status"></p>
        </div>
        <div class="croppers grid-croppers" id="croppers">
          <div class="img-container cropper-master">
            <!-- image used with interactive cropbox -->
            <img
              alt=""
              class="cropper-image"
              data-cropper-role="master"
              data-cropper-label="Master"
            >
          </div>
          <div class="img-container cropper-banner-bg">
            <!-- image will be resized to 3088 x whatever, then cropped to 3088 x 748 -->
            <img
              alt=""
              class="cropper-image"
              data-cropper-action="resizeAndCrop"
              data-cropper-export-width="3088"
              data-cropper-export-height="748"
              data-cropper-export-suffix="stack-banner-bg"
              data-cropper-label="Stack Banner bg"
              data-cropper-role="slave"
            >
          </div>
          <div class="img-container cropper-hide">
            <!-- image will be resized to 320 x whatever - no suffix = just the filename -->
            <img
              alt=""
              class="cropper-image"
              data-cropper-action="resize"
              data-cropper-export-width="320"
              data-cropper-export-height="null"
              data-cropper-export-suffix=""
              data-cropper-label="Stack Banner"
              data-cropper-role="slave"
            >
          </div>
          <div class="img-container cropper-hide">
            <!-- image will be resized to 320 x whatever -->
            <img
              alt=""
              class="cropper-image"
              data-cropper-action="resize"
              data-cropper-export-width="320"
              data-cropper-export-height="null"
              data-cropper-export-suffix="stack-banner"
              data-cropper-label="Stack Banner"
              data-cropper-role="slave"
            >
          </div>
          <div class="img-container cropper-collapsed">
            <!-- image will be resized to 865 x whatever, then cropped to 865 x 368 -->
            <img
              alt=""
              class="cropper-image"
              data-cropper-action="resizeAndCrop"
              data-cropper-export-width="865"
              data-cropper-export-height="368"
              data-cropper-export-suffix="gallery-collapsed"
              data-cropper-label="Gallery Collapsed"
              data-cropper-role="slave"
            >
          </div>
          <div class="img-container cropper-hide">
            <!-- image will be resized to 865 x whatever -->
            <img
              alt=""
              class="cropper-image"
              data-cropper-action="resize"
              data-cropper-export-width="865"
              data-cropper-export-height="null"
              data-cropper-export-suffix="gallery-expanded"
              data-cropper-label="Gallery Expanded"
              data-cropper-role="slave"
            >
          </div>
          <div class="img-container" cropper-thumbnail>
            <!-- image will be resized to 320 x whatever, then cropped to 320 x 320 -->
            <!-- TODO: stack-tour-bg is 600x600 but could share this? -->
            <img
              alt=""
              class="cropper-image"
              data-cropper-action="resizeAndCrop"
              data-cropper-export-width="320"
              data-cropper-export-height="320"
              data-cropper-export-suffix="gallery-thumbnail"
              data-cropper-label="Thumbnail"
              data-cropper-role="slave"
            >
          </div>
        </div>
      </div>
      <div class="thumbs" aria-labelledby="thumbs-heading">
        <h2 hidden id="thumbs-heading">Image thumbnails</h2>
        <ol class="thumbs-list" id="thumbs">
          <!-- loaded by Load images -->
        </ol>
        <div class="meta thumbs-console grid-thumbs-console">
          <p class="thumb-count">
            <span id="thumb-count-num">0</span> images
          </p>
          <div class="thumb-paths">
            <h2 hidden>Paths</h2>
            <button type="button" class="control-action control-copy" id="copy-path-in">
              <span class="control-hint">Copy source path</span>
            </button>
            <p class="control-action">
              <a class="control-hint control-link" id="link-path-in" href="#">Open source path</a>
            </p>
            <button type="button" class="control-action control-copy" id="copy-path-out">
              <span class="control-hint">Copy target path</span>
            </button>
            <p class="control-action">
              <a class="control-hint control-link" id="link-path-out" href="#">Open target path</a>
            </p>
            <button type="button" class="control-action control-copy" id="copy-path-web-embed">
              <span class="control-hint">Copy embed path</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <script type="importmap">
      {
        "imports": {
          "dtrt-string-utils": "./node_modules/dtrt-string-utils/dist/dtrt-string-utils.mjs",
          "dtrt-type-validate": "./node_modules/dtrt-type-validate/dist/dtrt-type-validate.mjs"
        }
      }
    </script>
    <script src="./node_modules/cropperjs/dist/cropper.js"></script>
    <script src="./renderer.mjs" type="module"></script>
  </body>
</html>